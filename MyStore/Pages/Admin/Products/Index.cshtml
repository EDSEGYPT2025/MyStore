@page
@model MyStore.Pages.Admin.Products.IndexModel

@{
    ViewData["Title"] = "إدارة جميع المنتجات";
}

<div class="d-flex justify-content-between align-items-center mb-4">
    <h1>@ViewData["Title"]</h1>
    <a asp-page="Create" class="btn btn-primary">
        <i class="fas fa-plus me-1"></i> إضافة منتج جديد
    </a>
</div>

<div class="card shadow-sm">
    <div class="card-body">
        <table class="table table-hover align-middle">
            <thead class="table-light">
                <tr>
                    <th style="width: 10%;">الصورة</th>
                    <th>اسم المنتج</th>
                    <th>المتجر (البائع)</th>
                    <th>الماركة (المصنّع)</th>
                    <th>السعر</th>
                    @*<th style="width: 20%;"></th>*@
                </tr>
            </thead>
            <tbody>
                @if (!Model.Products.Any())
                {
                    <tr>
                        <td colspan="6" class="text-center text-muted p-4">لم يتم إضافة أي منتجات بعد.</td>
                    </tr>
                }
                else
                {
                    @foreach (var item in Model.Products)
                    {
                        <tr>
                            <td>
                                <img src="@(item.ImageUrl ?? "https://placehold.co/100x100/EEE/31343C?text=Image")"
                                     alt="Image for @item.Name"
                                     class="img-thumbnail"
                                     style="width: 70px; height: 70px; object-fit: cover;" />
                            </td>
                            <td>@Html.DisplayFor(modelItem => item.Name)</td>
                            <td>
                                <span class="badge bg-info text-dark">@Html.DisplayFor(modelItem => item.StoreName)</span>
                            </td>
                            <td>@Html.DisplayFor(modelItem => item.CompanyName)</td>
                            <td>@item.Price.ToString("C", new System.Globalization.CultureInfo("ar-EG"))</td>
                            <td class="text-end">
                                @*<a asp-page="./Edit" asp-route-id="@item.Id" class="btn btn-sm btn-outline-primary">تعديل</a>
                                <a asp-page="./Details" asp-route-id="@item.Id" class="btn btn-sm btn-outline-info">تفاصيل</a>
                                <a asp-page="./Delete" asp-route-id="@item.Id" class="btn btn-sm btn-outline-danger">حذف</a>*@
                            </td>
                        </tr>
                    }
                }
            </tbody>
        </table>
    </div>
</div>
